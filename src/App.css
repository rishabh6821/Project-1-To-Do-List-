/* App background enhancements and Snowfall container styles */

/* Snowfall container - full screen, behind app */
#background-shaders-snowfall {
  position: fixed;
  inset: 0;
  z-index: -20;
  pointer-events: none;
  overflow: hidden;
  background: radial-gradient(ellipse at 10% 15%, rgba(58,123,213,0.08) 0%, transparent 30%),
              radial-gradient(ellipse at 92% 85%, rgba(162,155,254,0.06) 0%, transparent 25%),
              linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0));
}

/* soft floating blobs for depth */
#background-shaders-snowfall::before,
#background-shaders-snowfall::after {
  content: "";
  position: absolute;
  border-radius: 50%;
  filter: blur(80px);
  transform: translate3d(0,0,0);
  opacity: 0.95;
  pointer-events: none;
}

#background-shaders-snowfall::before {
  width: 520px;
  height: 520px;
  left: 6%;
  top: 4%;
  background: radial-gradient(circle at 30% 30%, rgba(58,123,213,0.18), rgba(58,123,213,0.06) 35%, transparent 60%);
  animation: floatBlobA 16s ease-in-out infinite;
}

#background-shaders-snowfall::after {
  width: 420px;
  height: 420px;
  right: 6%;
  bottom: 6%;
  background: radial-gradient(circle at 70% 70%, rgba(162,155,254,0.16), rgba(162,155,254,0.04) 36%, transparent 60%);
  animation: floatBlobB 20s ease-in-out infinite;
}

@keyframes floatBlobA {
  0%   { transform: translateY(0) translateX(0) rotate(0deg); }
  50%  { transform: translateY(-26px) translateX(8px) rotate(4deg); }
  100% { transform: translateY(0) translateX(0) rotate(0deg); }
}
@keyframes floatBlobB {
  0%   { transform: translateY(0) translateX(0) rotate(0deg); }
  50%  { transform: translateY(18px) translateX(-8px) rotate(-3deg); }
  100% { transform: translateY(0) translateX(0) rotate(0deg); }
}

/* subtle star-like texture */
#background-shaders-snowfall .stars {
  position: absolute;
  inset: 0;
  background-image: radial-gradient(rgba(255,255,255,0.92) 1px, transparent 1px);
  background-size: 120px 120px;
  opacity: 0.06;
  mix-blend-mode: screen;
  pointer-events: none;
}

/* Ensure Snowfall canvas sits above blobs but behind UI */
#background-shaders-snowfall canvas {
  position: absolute !important;
  inset: 0;
  width: 100% !important;
  height: 100% !important;
  z-index: -15;
  pointer-events: none !important;
}

/* Vignette & subtle overlay */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(ellipse at center, rgba(0,0,0,0) 45%, rgba(0,0,0,0.06) 100%);
  z-index: -12;
  mix-blend-mode: multiply;
}

/* Glassmorphism for the app card */
#root .App-structure {
  background: linear-gradient(180deg, rgba(255,255,255,0.82), rgba(255,255,255,0.7));
  border: 1px solid rgba(255,255,255,0.4);
  backdrop-filter: blur(8px) saturate(120%);
}

/* subtle glow under the card */
#root .App-structure::after {
  content: "";
  position: absolute;
  inset: auto 12px 12px 12px;
  height: 12px;
  pointer-events: none;
  filter: blur(24px);
  opacity: 0.18;
}

/* small screens: hide heavy blobs to save CPU */
@media (max-width: 700px) {
  #background-shaders-snowfall::before,
  #background-shaders-snowfall::after,
  #background-shaders-snowfall .stars { display: none; }
  body::after { background: radial-gradient(ellipse at center, rgba(0,0,0,0) 70%, rgba(0,0,0,0.06) 100%); }
}

/* Accessibility: reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  #background-shaders-snowfall::before,
  #background-shaders-snowfall::after { animation: none; }
}
